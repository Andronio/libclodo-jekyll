---
layout: article
title: "Создание резервной копии на Cloud Storage"
category: Облачное хранилище 
---

## Создание резервной копии на Cloud Storage



Описание
----------

Для создания резераной копии на облачное хранилище, можно использовать утилиту Backupninja и плагины, позволяющие загружать данные в хранилище.

Backupninja-cloud представляет собой плагин для утилиты Backupninja.
При помощи него можно создавать резервные копии и загружать их на Clodo Cloud Storage

Установка
----------

Для того, чтобы это сделать, необходимо сперва установить следующее ПО:

backupninja - утилита для управления создания резервных копий
duplicity - утилита для создание инкрементированных резервных копий
python-cloudfiles - библиотека для поддержки облачных хранилищ
backupninja-cloud - плагин для работы с облачным хранилищем

Для установки на Debian 6 можно воспользоваться скриптом для автоматической установки:


	wget http://cs.aylium.net/scripts/backupninja-clodo-debian.sh
	chmod +x backupninja-clodo-debian.sh
	./backupninja-clodo-debian.sh


После успешной установки, можно приступить к настройке резервной копии файлов. Она производится при помощи ninjahelper:

    ninjahelper
	
![](http://static.clodo.ru/lib-images/backupninja/bn_cloud_001.png)


Создание нового задания для резервного копирования начинается с выбора типа резервного копирования. В данном случае - csdup.

![](http://static.clodo.ru/lib-images/backupninja/bn_cloud_002.png)


В главном меню создания задания необходимо пошагово указать все необходимые данные.
![](http://static.clodo.ru/lib-images/backupninja/bn_cloud_003.png)

src:

Здесь необходимо указать директории, которые будут загружены в хранилище

![](http://static.clodo.ru/lib-images/backupninja/bn_cloud_004.png)

Exclude позволяет указать файлы, которые не будут включены в резервную копию

![](http://static.clodo.ru/lib-images/backupninja/bn_cloud_005.png)

dest:


На данном этапе указываются для загрузки резервной копии в хранилище:

![](http://static.clodo.ru/lib-images/backupninja/bn_cloud_006.png)


Параметры, __обязательные__ для заполнения для исправной работы системы резервного копирования:

storage
: уникальный идетификатор хранилища

apikey
: уникальный ключ хранилища

_Подсказка:_ (storage и apikey можно узнать из [панели управления](https://panel.clodo.ru/#storage/))

container
: название контейнера, который будет создан и в котором будет храниться резервная копия конкретного задания. Для каждого задания лучше всего создавать отдельный контейнер. __Обратите внимание__, что контейнер имеет только один уровень - корневой.

name
: название задания для резервного копирования. Будет совпадать с названием задания на создание резервной копии и ее откат. Необходимо для идентификации самого задания, чтобы не возникало путаницы.

Опциональные параметры, которые могут быть оставлены настроенными по-умолчанию:

keep
: количество дней в течение которых будет храниться резервная копия

incremental
: инкременитровать резервную копию или нет (принимает значения yes/no)

increments
: количество дней, по истечению которых резервная копия будет сделана с нуля


